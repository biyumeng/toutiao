(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4b0cee5a"],{"1ec7":function(t,e,a){t.exports=a.p+"img/back.445c9b8a.jpg"},"3e1f":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-card",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}]},[a("bread-crumb",{attrs:{slot:"header"},slot:"header"},[a("template",{slot:"title"},[t._v("账户信息")])],2),a("el-form",{ref:"myForm",staticStyle:{"margin-left":"100px"},attrs:{model:t.formData,rules:t.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{prop:"name",label:"用户名"}},[a("el-input",{staticStyle:{width:"40%"},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),a("el-form-item",{attrs:{prop:"intro",label:"简介"}},[a("el-input",{staticStyle:{width:"40%"},model:{value:t.formData.intro,callback:function(e){t.$set(t.formData,"intro",e)},expression:"formData.intro"}})],1),a("el-form-item",{attrs:{prop:"email",label:"邮箱"}},[a("el-input",{staticStyle:{width:"40%"},model:{value:t.formData.email,callback:function(e){t.$set(t.formData,"email",e)},expression:"formData.email"}})],1),a("el-form-item",{attrs:{label:"手机号"}},[a("el-input",{staticStyle:{width:"40%"},attrs:{disabled:""},model:{value:t.formData.mobile,callback:function(e){t.$set(t.formData,"mobile",e)},expression:"formData.mobile"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.saveUserInfo}},[t._v("保存信息")])],1)],1),a("el-upload",{staticClass:"head-upload",attrs:{"http-request":t.upLoadImg,action:"","show-file-list":!1}},[a("img",{attrs:{src:t.formData.photo?t.formData.photo:t.defaultImg,alt:""}})])],1)},r=[],i=a("986e"),l={data:function(){return{loading:!1,formData:{name:"",intro:"",photo:"",email:"",mobile:""},defaultImg:a("1ec7"),rules:{name:[{required:!0,message:"用户名不能为空"},{min:1,max:7,message:"用户名在1~7之间"}],email:[{required:!0,message:"邮箱不能为空"},{pattern:/^([a-zA-Z]|[0-9])(\w|-)+@[a-zA-Z0-9]+\.([a-zA-Z]{2,4})$/,message:"邮箱格式不正确"}]}}},methods:{upLoadImg:function(t){var e=this;this.loading=!0;var a=new FormData;a.append("photo",t.file),this.$axios({url:"/user/photo",method:"patch",data:a}).then((function(t){e.loading=!1,e.formData.photo=t.data.photo,i["a"].$emit("updateUserInfo")}))},saveUserInfo:function(){var t=this;this.$refs.myForm.validate().then((function(e){t.$axios({url:"/user/profile",method:"patch",data:t.formData}).then((function(e){t.$message({type:"success",message:"保存用户信息成功"}),i["a"].$emit("updateUserInfo")}))}))},getUserInfo:function(){var t=this;this.$axios({url:"/user/profile"}).then((function(e){t.formData=e.data}))}},created:function(){this.getUserInfo()}},s=l,n=(a("c78b"),a("2877")),m=Object(n["a"])(s,o,r,!1,null,"f79b7788",null);e["default"]=m.exports},"7c1e":function(t,e,a){},c78b:function(t,e,a){"use strict";var o=a("7c1e"),r=a.n(o);r.a}}]);
//# sourceMappingURL=chunk-4b0cee5a.ba360432.js.map